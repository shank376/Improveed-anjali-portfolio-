<!    .ciegress-bg"><div class="progress-fill" data-width="85%"></div></div>
</        if(entry.isIntersecting){
          entry.target.classList.add('visible');
          obs.unobserve(entry.target);
        }
      });
    }, { threshold: 0.18 });
    reveals.forEach(r => revealObs.observe(r));

    // Animate progress bars when skills section enters
    const skillSection = document.querySelector('#skills');
    if(skillSection){
      const skillObserver = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            document.querySelectorAll('.progress-fill').forEach(p => {
              const w = p.getAttribute('data-width') || '80%';
              p.style.width = w;
            });
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.4 });
      skillObserver.observe(skillSection);
    }

    // Animate circular language bars when languages section enters (run once)
    const languagesSection = document.querySelector('#languages');
    const CIRCUMFERENCE = 2 * Math.PI * 45; // r = 45 -> circumference â‰ˆ 283
    // Set baseline strokeDasharray for all bars so CSS transition works even before JS
    document.querySelectorAll('.circle-bar').forEach(c => {
      c.style.strokeDasharray = String(Math.round(CIRCUMFERENCE));
      c.style.strokeDashoffset = String(Math.round(CIRCUMFERENCE));
    });

    if(languagesSection){
      const langObserver = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            document.querySelectorAll('.circle-bar').forEach(circle => {
              const pct = Number(circle.getAttribute('data-percent') || 0);
              const full = CIRCUMFERENCE;
              const offset = Math.round(full - (full * pct / 100));
              // small delay for nicer stagger
              setTimeout(() => { circle.style.strokeDashoffset = offset; }, 120);
            });
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.35 });
      langObserver.observe(languagesSection);
    }

    // Navbar shadow on scroll
    const nav = document.querySelector('nav');
    window.addEventListener('scroll', () => {
      nav.style.boxShadow = window.scrollY > 20 ? '0 10px 40px rgba(0,0,0,0.09)' : '0 6px 24px rgba(0,0,0,0.06)';
    });

    // Respect reduced motion
    if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){
      document.querySelectorAll('.progress-fill').forEach(el => { el.style.transition = 'none'; el.style.width = el.getAttribute('data-width') || '0' });
      document.querySelectorAll('.circle-bar').forEach(el => { el.style.transition = 'none' });
    }
  </script>
</body>
</html>
